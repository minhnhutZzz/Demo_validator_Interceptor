<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/layout-admin.html}">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
	integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />
<title>List Category</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet" integrity="sha384-...">
</head>

<body>
	<!-- Sử dụng fragment content từ layout-admin.html -->
	<section class="row" layout:fragment="content">
		<div class="col mt-4">
			<div class="card">
				<div class="card-header">
					List Category
					<!-- Thêm nút Add Category và Search Pagenated -->
					<div class="float-end">
						<a th:href="@{/admin/categories/add}"
							class="btn btn-success btn-sm me-2"> <i class="fa fa-plus"></i>
							Add Category
						</a> <a th:href="@{/admin/categories/searchpagenated}"
							class="btn btn-primary btn-sm"> <i class="fa fa-search"></i>
							Search Pagenated
						</a>
					</div>
				</div>
				<div class="card-body">
					<!-- Hiển thị thông báo -->
					<div th:if="${message != null}">
						<div class="alert alert-primary" role="alert">
							<i th:text="${message}"></i>
						</div>
					</div>

					<!-- Bảng danh sách Category -->
					<table class="table table-striped table-responsive">
						<thead class="thead-inverse">
							<tr>
								<th>Category ID</th>
								<th>Category Code</th>
								<th>Category Name</th>
								<th>Status</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="category : ${categories}">
								<td th:text="${category.categoryId}"></td>
								<td th:text="${category.categorycode}"></td>
								<!-- Sửa từ categoryname thành categorycode -->
								<td th:text="${category.categoryname}"></td>
								<!-- Sửa từ categorycode thành categoryname -->
								<td th:text="${category.status ? 'Hoạt động' : 'Khóa'}"></td>
								<td>
									<!-- Nút View Videos (mới) --> <a
									th:href="@{/admin/categories/{id}/videos(id=${category.categoryId})}"
									class="btn btn-outline-primary btn-sm me-1"> <i
										class="fa fa-list"></i> View Videos
								</a> <a
									th:href="@{/admin/categories/edit/{id}(id=${category.categoryId})}"
									class="btn btn-outline-warning"> <i class="fa fa-edit"></i>
								</a> <a
									th:href="@{/admin/categories/delete/{id}(id=${category.categoryId})}"
									class="btn btn-outline-danger"> <i class="fa fa-trash"></i>
								</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</section>
</body>
</html>